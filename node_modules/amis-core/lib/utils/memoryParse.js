/**
 * amis-core v3.6.3
 * Copyright 2018-2023 fex
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var amisFormula = require('amis-formula');

var cache = {};
function memoryParse(input, options) {
    if (options === void 0) { options = {
        evalMode: false
    }; }
    // @todo 优化内存缓存释放，比如只缓存最高频的模版
    if (typeof input !== 'string') {
        return;
    }
    var key = input + JSON.stringify(options);
    if (cache[key]) {
        return cache[key];
    }
    var ast = amisFormula.parse(input, options);
    cache[key] = ast;
    return ast;
}

exports.memoryParse = memoryParse;
